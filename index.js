import{a as b,S as x,i as c}from"./assets/vendor-BjRz3xa9.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function e(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=e(t);fetch(t.href,o)}})();const S="49484278-b8d1b278e9cf12a9e395a9aea",q="https://pixabay.com/api/";async function h(s,r){try{const e=await b.get(q,{params:{key:S,q:s,image_type:"photo",orientation:"horizontal",safesearch:!0,page:r,per_page:15}});return{hits:e.data.hits,totalHits:e.data.totalHits}}catch(e){throw console.error("Помилка запиту:",e),e}}const u=document.querySelector(".gallery"),g=document.querySelector(".loader"),f=document.querySelector(".load-more");let p;function y(s){if(s.length===0){u.innerHTML="",n();return}const r=document.createDocumentFragment();s.forEach(e=>{const a=document.createElement("li");a.classList.add("gallery-item");const t=document.createElement("a");t.href=e.largeImageURL,t.dataset.caption=e.tags;const o=document.createElement("img");o.src=e.webformatURL,o.alt=e.tags;const i=document.createElement("div");i.classList.add("image-stats"),i.innerHTML=`
            <div><p class="stat-title">Likes</p><p class="stat-text">${e.likes}</p></div>
            <div><p class="stat-title">Views</p><p class="stat-text">${e.views}</p></div>
            <div><p class="stat-title">Comments</p><p class="stat-text">${e.comments}</p></div>
            <div><p class="stat-title">Downloads</p><p class="stat-text">${e.downloads}</p></div>
        `,t.appendChild(o),a.appendChild(t),a.appendChild(i),r.appendChild(a)}),u.appendChild(r);try{p?p.refresh():p=new x(".gallery a",{captionsData:"alt",captionDelay:250})}catch(e){console.error("Помилка SimpleLightbox:",e)}}function d(){u.innerHTML=""}function L(){g.style.display="inline-flex"}function v(){g.style.display="none"}function w(){f.classList.remove("is-hidden")}function n(){f.classList.add("is-hidden")}const E=document.querySelector(".form"),R=document.querySelector('input[name="search-text"]');let l=1,m="";E.addEventListener("submit",async s=>{s.preventDefault();const r=R.value.trim();if(r===""){d(),n(),c.error({title:"",position:"topRight",message:"Input field cannot be empty!"});return}l=1,m=r,n(),d(),L();try{const e=await h(m,l);e.hits.length===0?(d(),c.error({title:"",position:"topRight",message:"Вибачте, за вашим запитом нічого не знайдено."}),n()):(y(e.hits),l*15>=e.totalHits?(n(),c.info({title:"",message:"We're sorry, but you've reached the end of search results."})):w())}catch{d(),c.error({title:"",position:"topRight",message:"Виникла помилка при завантаженні зображень. Спробуйте ще раз."}),n()}finally{v()}});f.addEventListener("click",async()=>{l+=1,L();try{const s=await h(m,l);y(s.hits),w();const{height:r}=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:r*2,behavior:"smooth"}),l*15>=s.totalHits&&(n(),c.info({title:"",position:"topRight",message:"We're sorry, but you've reached the end of search results."}))}catch{d(),c.error({title:"",position:"topRight",message:"Виникла помилка при завантаженні зображень. Спробуйте ще раз."})}finally{v()}});
//# sourceMappingURL=index.js.map
